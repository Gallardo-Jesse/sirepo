{
    "appModes": {
        "default": {
            "localRoute": "beamline"
        }
    },
    "dynamicFiles": {
        "sirepoLibs": {
            "js": [
                "beacon.js",
                "sirepo-beamline.js"
            ],
            "css": [
                "beacon.css"
            ]
        }
    },
    "enum": {
        "Characteristic": [
            ["0", "Single-Electron Intensity"],
            ["1", "Multi-Electron Intensity (disregarding energy spread)"]
        ]
    },
    "frameIdFields": {
        "B1B2Animation": [],
        "B2B3Animation": [],
        "B3B4Animation": []
    },
    "localRoutes": {
        "beamline": {
            "route": "/beamline/:simulationId",
            "config": {
                "controller": "BeamlineController as beamline",
                "templateUrl": "/static/html/beacon-beamline.html"
            }
        },
        "ml": {
            "route": "/ml/:simulationId",
            "config": {
                "controller": "MLController as ml",
                "templateUrl": "/static/html/beacon-ml.html"
            }
        }
    },
    "model": {
        "aperture": {
            "position": ["Relative Position [m]", "Float"],
            "title": ["Element Name", "String", "Aperture"],
            "size": ["Size [m]", "Float", 0.0508, "", 1e-99],
            "horizontalOffset": ["Horizontal Center Position [m]", "Float", 0],
            "verticalOffset": ["Vertical Center Position [m]", "Float", 0]
        },
        "beamline": {
            "elements": ["Elements", "Array"]
        },
        "camera": {
            "position": ["Relative Position [m]", "Float"],
            "title": ["Element Name", "String", "Aperture"],
            "wavelength": ["Wavelength [nm]", "Float", 488.0],
            "apertureSize": ["Aperture Size [m]", "Float", 0.075],
            "horizontalFocalLength": ["Horizontal Focal Length [m]", "Float", 0.105],
            "verticalFocalLength": ["Vertical Focal Length [m]", "Float", 0.105],
            "horizontalOffset": ["Horizontal Center Position [m]", "Float", 0],
            "verticalOffset": ["Vertical Center Position [m]", "Float", 0]
        },
        "dipole": {
            "position": ["Relative Position [m]", "Float"],
            "title": ["Element Name", "String", "Bend"],
            "angle": ["Bend Angle [rad]", "Float", 0.105],
            "length": ["Effective Length [m]", "Float", 0.204],
            "edge": ["Edge Length [m]", "Float", 0.005, "\"Soft\" edge length for field variation from 10% to 90% [m]; $G/(1 + ((z-zc)/d)^2)^2$ fringe field dependence is assumed"]

        },
        "electronBeam": {
            "title": ["Element Name", "String", "Beam"],
            "energy": ["Energy [GeV]", "Float", 0.33],
            "current": ["Current [A]", "Float", 0.5],
            "rmsSpread": ["RMS Energy Spread", "Float", 0],
            "horizontalEmittance": ["Horizontal Emittance [nm]", "Float", 0],
            "horizontalBeta": ["Horizontal Beta [m]", "Float", 1.0],
            "horizontalAlpha": ["Horizontal Alpha [rad]", "Float", 0],
            "horizontalDispersion": ["Horizontal Dispersion [m]", "Float", 0],
            "horizontalDispersionDerivative": ["Horizontal Dispersion Derivative [rad]", "Float", 0],
            "verticalEmittance": ["Vertical Emittance [nm]", "Float", 0],
            "verticalBeta": ["Vertical Beta [m]", "Float", 1.0],
            "verticalAlpha": ["Vertical Alpha [rad]", "Float", 0],
            "verticalDispersion": ["Vertical Dispersion [m]", "Float", 0],
            "verticalDispersionDerivative": ["Vertical Dispersion Derivative [rad]", "Float", 0],
            "horizontalPosition": ["Average Horizontal Position [mm]", "Float", 0],
            "verticalPosition": ["Average Vertical Position [mm]", "Float", 0],
            "horizontalAngle": ["Average Horizontal Angle [mrad]", "Float", 0],
            "verticalAngle": ["Average Vertical Angle [mrad]", "Float", 0]
        },
        "mlAnimation": {
        },
        "mlParameters": {
            "variationElements": ["Element", "VariationElements", {}],
            "numSamples": ["Samples per Parameter", "Integer", 10, "", 1],
            "horizontalResolution": ["Horizontal Resolution [pixels]", "Integer", 128],
            "verticalResolution": ["Vertical Resolution [pixels]", "Integer", 128]
        },
        "simulationSettings": {
            "characteristic": ["Characteristic to Plot", "Characteristic", "1"],
            "nx": ["Grid Size", "Integer", 1024, "Number of grid cells in X and Y for the wavefront calculation"]
        },
        "B1B2Animation": {},
        "B2B3Animation": {},
        "B3B4Animation": {}
    },
    "strings": {
        "completionState": ""
    },
    "view": {
        "aperture": {
            "title": "Aperture",
            "advanced": [
                "position",
                "size",
                [
                    ["Horizontal", [
                        "horizontalOffset"
                    ]],
                    ["Vertical", [
                        "verticalOffset"
                    ]]
                ]
            ]
        },
        "beamline": {
            "title": "Beamline",
            "advanced": []
        },
        "camera": {
            "title": "Camera",
            "basic": [],
            "advanced": [
                "position",
                "wavelength",
                "apertureSize",
                [
                    ["Horizontal", [
                        "horizontalFocalLength",
                        "horizontalOffset"
                    ]],
                    ["Vertical", [
                        "verticalFocalLength",
                        "verticalOffset"
                    ]]
                ]
            ]
        },
        "dipole": {
            "title": "Bending Magnet",
            "advanced": [
                "position",
                "angle",
                "length",
                "edge"
            ]
        },
        "electronBeam": {
            "title": "Electron Beam",
            "advanced": [
                ["Main", [
                    "energy",
                    "current",
                    "rmsSpread"
                ]],
                ["Twiss Parameters", [
                    [
                        ["Horizontal Twiss Parameters", [
                            "horizontalEmittance",
                            "horizontalBeta",
                            "horizontalAlpha",
                            "horizontalDispersion",
                            "horizontalDispersionDerivative"
                       ]],
                       ["Vertical Twiss Parameters", [
                           "verticalEmittance",
                           "verticalBeta",
                           "verticalAlpha",
                           "verticalDispersion",
                           "verticalDispersionDerivative"
                       ]]
                    ]
                ]],
                ["Position", [
                    [
                        ["Horizontal", [
                            "horizontalPosition",
                            "horizontalAngle"
                        ]],
                        ["Vertical", [
                            "verticalPosition",
                            "verticalAngle"
                        ]]
                    ]
                ]]
            ]
        },
        "mlAnimation": {
            "title": "Create ML Training Data",
            "advanced": []
        },
        "mlVariations": {
            "model": "mlParameters",
            "title": "Machine Learning Inputs",
            "basic": [
                "variationElements"
            ],
            "advanced": []
        },
        "mlParameters": {
            "title": "Samples and Resolution",
            "basic": [
                "numSamples",
                [
                    ["Horizontal", [
                        "horizontalResolution"
                    ]],
                    ["Vertical", [
                        "verticalResolution"
                    ]]
                ]
            ],
            "advanced": []
        },
        "simulationSettings": {
            "title": "Simulation Status",
            "advanced": [
                "nx",
                "characteristic"
            ]
        },
        "B1B2Animation": {
            "title": "B1 - B2",
            "advanced": []
        },
        "B2B3Animation": {
            "title": "B2 - B3",
            "advanced": []
        },
        "B3B4Animation": {
            "title": "B3 - B4",
            "advanced": []
        }
    }
}
