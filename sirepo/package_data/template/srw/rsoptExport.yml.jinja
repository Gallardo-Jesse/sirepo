codes:
  - python:
      settings:
      parameters:
        {% for e in rsOptElements %}
        {% for x in e.position %}
        {% if e.offsets[loop.index0] != 0 %}
        {{ e.title }}_{{ e.p_map[loop.index0] }}:
          min: {{ x - e.offsets[loop.index0] / 2.0 }}
          max: {{ x + e.offsets[loop.index0] / 2.0 }}
          samples: {{ numSamples }}
          start: {{ x }}
        {% endif %}
        {% endfor %}
        {% for t in e.angle %}
        {% if e.rotations[loop.index0] != 0 %}
        {{ e.title }}_{{ e.t_map[loop.index0] }}:
          min: {{ t - e.rotations[loop.index0] / 2.0 }}
          max: {{ t + e.rotations[loop.index0] / 2.0 }}
          samples: {{ numSamples }}
          start: {{ t }}
        {% endif %}
        {% endfor %}
        {% endfor %}
      setup:
        input_file: {{ pyFileName }}
        function: set_rsopt_params
        execution_type: serial
options:
  software: mesh_scan
  run_dir: {{ runDir }}
  sim_dirs_make: False

